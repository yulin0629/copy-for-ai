# 「Copy For AI」檔案選取功能增強需求

## 背景與目的

目前在使用「Copy For AI Explorer」時，由於專案檔案結構複雜且檔案眾多，使用者經常難以在深層目錄中找到並勾選特定檔案。為解決這個痛點，我們需要增強檔案選取方式，使其更便捷、更符合使用者工作流程。這些增強功能將大幅提升使用者在準備 AI 上下文資料時的效率。

## 新增功能需求

### 1. VSCode 檔案瀏覽器整合

#### 右鍵選單擴充：

- 在 VSCode 原生檔案瀏覽器（Explorer）中，為檔案和資料夾添加「添加到 Copy For AI」右鍵選單項目
- 單一檔案選取時，僅選取該檔案
- 資料夾選取時，則自動選取該資料夾下所有符合篩選條件的檔案
- 多檔案、資料夾選取時，一次將所有選取的檔案、資料夾(含以下所有檔案)添加到 Context Explorer

### 2. 編輯器分頁整合

#### 編輯器頁籤右鍵選單：

- 在編輯器的檔案頁籤右鍵選單中，新增「添加到 Copy For AI」選項
- 允許使用者直接從當前編輯的檔案中快速添加


### 3. 支援檔案拖放選取

#### 拖放互動：

- 允許使用者直接從 VSCode 的檔案瀏覽器或編輯器中拖曳檔案到 Copying For AI 的 Context Explorer 側邊欄
- 拖曳時提供視覺指示，如高亮顯示 Context Explorer 區域
- 支援單檔案和多檔案拖放
- 拖放時提供適當的反饋動畫，增強使用者體驗
- 拖放區域應足夠大且易於辨識，提高操作成功率

#### 自動選取與定位：

- 拖放檔案進入 Explorer 後，自動展開對應的資料夾路徑
- 自動勾選被拖入的檔案
- 選取後自動滾動到該檔案位置，方便使用者確認
- 拖入後顯示簡短的成功訊息，包含已添加的檔案數量

## 使用者互動流程

### 1. 從 VSCode 檔案瀏覽器添加檔案

1. 使用者在 VSCode 檔案瀏覽器中右鍵點擊檔案或資料夾
2. 從上下文選單中選擇「添加到 Copy For AI」
3. Context Explorer 側邊欄中對應的檔案或資料夾自動勾選

### 2. 從編輯器頁籤添加檔案

1. 使用者在編輯器頁籤上右鍵點擊
2. 從上下文選單中選擇「添加到 Copy For AI」
3. Context Explorer 側邊欄中對應的檔案自動勾選

### 3. 拖放添加檔案

1. 使用者從 VSCode 檔案瀏覽器中選取一個或多個檔案
2. 拖曳檔案到 Context Explorer 側邊欄
3. Context Explorer 區域高亮顯示，表示可以放置
4. 放置後，檔案自動勾選，對應的資料夾路徑自動展開
5. 自動滾動到新添加的檔案位置
6. 顯示簡短的成功訊息

## 驗收標準

- [ ] VSCode 檔案瀏覽器中能夠通過右鍵選單添加檔案到 Context Explorer
- [ ] 編輯器頁籤右鍵選單能成功添加檔案到 Context Explorer
- [ ] 檔案可以從 VSCode 檔案瀏覽器拖放到 Context Explorer
- [ ] 拖放時提供明確的視覺反饋
- [ ] 拖放後自動展開相應資料夾並顯示新添加的檔案